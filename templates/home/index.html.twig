{% extends 'base.html.twig' %}

{% block body %}
	<twig:Navbar :menu_sections="menu_sections"/>

	<twig:Hero/>

	{# Main Menu Area #}
	<main id="menu-container" class="py-16 lg:py-24 px-4 bg-brand-cream space-y-32">
		{% for section in menu_sections %}
			<twig:MenuSection :section="section"/>
		{% endfor %}
	</main>

	{# Chat Bot Widget #}
	<div id="chat-widget" data-controller="chat-widget">
		<div id="chat-window" data-chat-widget-target="window">
			<div class="bg-brand-brown p-4 flex items-center justify-between text-white shrink-0">
				<div class="flex items-center gap-3">
					<div class="w-10 h-10 bg-brand-orange rounded-full flex items-center justify-center text-xl shadow-inner">ğŸ‘¨â€ğŸ³</div>
					<div>
						<p class="font-bungee text-[10px] tracking-tight uppercase">Chef IA</p>
						<p class="text-[8px] text-green-400 font-bold uppercase flex items-center gap-1">
							<span class="w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"></span>
							PrÃªt Ã  conseiller
						</p>
					</div>
				</div>
				<div class="flex items-center gap-2">
					<a href="https://france.booqcloud.com/webshop/Order2POSChickenFamily/" target="_blank" class="bg-brand-red text-white px-3 py-1 rounded-full text-[10px] font-bold uppercase">Commander</a>
					<button data-action="click->chat-widget#toggle" class="text-white/60 p-2 hover:text-white transition-colors" aria-label="Fermer la fenÃªtre de chat">
						<svg class="w-7 h-7" fill="none" stroke="currentColor" viewbox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l18 18"></path>
						</svg>
					</button>
				</div>
			</div>
			<div id="chat-history" data-chat-widget-target="history" class="chat-container no-scrollbar">
				<div class="bot-message message-bubble shadow-sm">
					Bienvenue chez **Chicken Family** ! Je connais toute la carte par cÅ“ur. Quel rÃ©gal cherchez-vous aujourd'hui ? ğŸ˜Š
				</div>
				<div class="flex flex-wrap gap-2 mt-3">
					<button data-action="click->chat-widget#sendSuggestion" data-suggestion="Quel burger choisir ?" class="bg-white/90 text-brand-brown px-3 py-1 rounded-full text-[10px] font-bold uppercase shadow-sm hover:bg-white">Quel burger choisir</button>
					<button data-action="click->chat-widget#sendSuggestion" data-suggestion="Quel kebab choisir ?" class="bg-white/90 text-brand-brown px-3 py-1 rounded-full text-[10px] font-bold uppercase shadow-sm hover:bg-white">Quel kebab choisir</button>
					<button data-action="click->chat-widget#sendSuggestion" data-suggestion="Est-ce que c'est halal ?" class="bg-white/90 text-brand-brown px-3 py-1 rounded-full text-[10px] font-bold uppercase shadow-sm hover:bg-white">C'est halal ?</button>
					<button data-action="click->chat-widget#sendSuggestion" data-suggestion="OÃ¹ est situÃ©e Chicken Family ?" class="bg-white/90 text-brand-brown px-3 py-1 rounded-full text-[10px] font-bold uppercase shadow-sm hover:bg-white">Adresse</button>
				</div>
			</div>
			<div class="p-4 bg-white flex gap-2 border-t shrink-0">
				<input type="text" id="chat-input" name="message" data-chat-widget-target="input" data-action="keypress->chat-widget#onKeyPress" class="flex-grow bg-gray-100 rounded-full px-5 py-4 outline-none focus:ring-2 ring-brand-orange text-sm font-medium transition-all" placeholder="Posez votre question ici...">
				<button data-action="click->chat-widget#sendMessage" class="bg-brand-orange text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg active:scale-90 shrink-0 transition-transform" aria-label="Envoyer le message">
					<svg class="w-7 h-7" fill="none" stroke="currentColor" viewbox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
					</svg>
				</button>
			</div>
		</div>
		<div id="chat-toggle-btn" data-chat-widget-target="toggleBtn" data-action="click->chat-widget#toggle" aria-label="Ouvrir l'assistant IA" role="button" tabindex="0">
			<svg class="w-8 h-8" fill="none" stroke="currentColor" viewbox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
			</svg>
			<span class="absolute -top-1 -right-1 bg-red-500 w-5 h-5 rounded-full border-4 border-white animate-bounce shadow-md"></span>
		</div>
	</div>

	<twig:Footer/>
{% endblock %}
